{"version":3,"sources":["components/Device.js","components/Main.js","components/LineChart.js","App.js","index.js"],"names":["Device","temp","oxygen","data","index","device","devices","temp_HB","limits","items","upper","temp_LB","lower","oxygen_HB","oxygen_LB","currentTime","Date","getTime","forEach","elem","timestamp","value","className","name","to","Main","Data","map","id","LineChart","useParams","temperature_arr","oxygen_arr","temperature_data","temperature_labels","oxygen_labels","oxygen_data","useEffect","push","toTimeString","slice","console","clear","log","temperature","labels","datasets","label","fill","lineTension","backgroundColor","borderColor","borderWidth","options","title","display","text","fontSize","legend","position","App","path","exact","component","href","target","rel","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.0c2a31ab.chunk.js","sourcesContent":["import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nfunction Device({ data, index }) {\r\n  let device = data.devices[index],\r\n    temp,\r\n    temp_HB = data.limits[0].items[0].upper,\r\n    temp_LB = data.limits[0].items[0].lower,\r\n    oxygen,\r\n    oxygen_HB = data.limits[0].items[1].upper,\r\n    oxygen_LB = data.limits[0].items[1].lower,\r\n    currentTime = new Date().getTime();\r\n\r\n  const getTemp = () => {\r\n    device.items[0].items.forEach((elem) => {\r\n      if (currentTime >= elem.timestamp) {\r\n        temp = elem.value;\r\n      }\r\n    });\r\n  };\r\n\r\n  const getOxygen = () => {\r\n    device.items[1].items.forEach((elem) => {\r\n      if (currentTime >= elem.timestamp) {\r\n        oxygen = elem.value;\r\n      }\r\n    });\r\n  };\r\n\r\n  // setInterval(() => {\r\n  getTemp();\r\n  getOxygen();\r\n  // }, 2000);\r\n\r\n  return (\r\n    <div className=\"device\">\r\n      <h2 className=\"device-title\">{device.name}</h2>\r\n      {/* ----- TEMPERATURE ----- */}\r\n      <div className=\"container\">\r\n        <div className=\"quality\">\r\n          <h4 className=\"quality-name\">Temperature</h4>\r\n          <p>\r\n            <span className=\"quality-value\">{temp || \"-\"} </span> °C\r\n          </p>\r\n        </div>\r\n        <div className=\"bounds\">\r\n          <p>L: {temp_LB || \"null\"}</p>\r\n          <p>\r\n            <span className=\"text-\">H</span>: {temp_HB || \"null\"}\r\n          </p>\r\n        </div>\r\n      </div>\r\n      {/* ----- OXYGEN ----- */}\r\n      <div className=\"container\">\r\n        <div className=\"quality\">\r\n          <h4 className=\"quality-name\">Oxygen</h4>\r\n          <p>\r\n            <span className=\"quality-value\">{oxygen || \"-\"} </span> (mg/l)\r\n          </p>\r\n        </div>\r\n        <div className=\"bounds\">\r\n          <p>L: {oxygen_LB || \"null\"}</p>\r\n          <p>H: {oxygen_HB || \"null\"}</p>\r\n        </div>\r\n      </div>\r\n\r\n      {/* ----- BUTTON ----- */}\r\n      <Link to={`/chart/${index}`}>\r\n        <button className=\"btn\">View chart</button>\r\n      </Link>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Device;\r\n","// import { useEffect, useState } from \"react\";\r\nimport Data from \"../data/data.json\";\r\nimport Device from \"./Device\";\r\n\r\nfunction Main() {\r\n  // const [data, setData] = useState();\r\n  // useEffect(() => {\r\n  //   fetch(\"../data/data.json\")\r\n  //     .then((response) => response.json())\r\n  //     .then((json) => setData(json));\r\n  // }, []);\r\n\r\n  return (\r\n    <div className=\"main\">\r\n      <div className=\"devices\">\r\n        {Data.devices.map((elem, index) => {\r\n          return <Device data={Data} index={index} key={elem.id} />;\r\n        })}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Main;\r\n","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport { React, useEffect } from \"react\";\r\nimport { Line } from \"react-chartjs-2\";\r\nimport { Link, useParams } from \"react-router-dom\";\r\nimport Data from \"../data/data.json\";\r\n\r\nfunction LineChart() {\r\n  const { index } = useParams();\r\n\r\n  let temperature_arr = Data.devices[index].items[0].items,\r\n    oxygen_arr = Data.devices[index].items[1].items,\r\n    temperature_data = [],\r\n    temperature_labels = [],\r\n    oxygen_labels = [],\r\n    oxygen_data = [];\r\n\r\n  // Get Temperature data\r\n  const getTemperature = () => {\r\n    temperature_arr.map((elem) => temperature_data.push(elem.value));\r\n    temperature_arr.map((elem) =>\r\n      temperature_labels.push(\r\n        new Date(elem.timestamp).toTimeString().slice(0, 8)\r\n      )\r\n    );\r\n  };\r\n\r\n  // Get Oxygen data\r\n  const getOxygen = () => {\r\n    oxygen_arr.map((elem) => oxygen_data.push(elem.value));\r\n    oxygen_arr.map((elem) =>\r\n      oxygen_labels.push(new Date(elem.timestamp).toTimeString().slice(0, 8))\r\n    );\r\n  };\r\n\r\n  useEffect(() => {\r\n    getOxygen();\r\n    getTemperature();\r\n    console.clear();\r\n    console.log(oxygen_data);\r\n    console.log(oxygen_labels);\r\n    console.log(temperature_data);\r\n    console.log(temperature_labels);\r\n  }, []);\r\n\r\n  const temperature = {\r\n    labels: temperature_labels,\r\n    datasets: [\r\n      {\r\n        label: \"Temperature (°C)\",\r\n        fill: true,\r\n        lineTension: 0.5,\r\n        backgroundColor: \"rgba(252, 163, 17,0.3)\",\r\n        borderColor: \"rgba(0,0,0,1)\",\r\n        borderWidth: 2,\r\n        data: temperature_data,\r\n      },\r\n    ],\r\n  };\r\n  const oxygen = {\r\n    labels: oxygen_labels,\r\n    datasets: [\r\n      {\r\n        label: \"Oxygen (mg/l)\",\r\n        fill: true,\r\n        lineTension: 0.5,\r\n        backgroundColor: \"rgba(75,192,192,0.3)\",\r\n        borderColor: \"rgba(0,0,0,1)\",\r\n        borderWidth: 2,\r\n        data: oxygen_data,\r\n      },\r\n    ],\r\n  };\r\n\r\n  return (\r\n    <div className=\"chart-container\">\r\n      <h2>{`Device ${+index + 1}`}</h2>\r\n\r\n      <div className=\"chart\">\r\n        <Line\r\n          data={temperature}\r\n          options={{\r\n            title: {\r\n              display: true,\r\n              text: \"Average Rainfall per month\",\r\n              fontSize: 20,\r\n            },\r\n            legend: {\r\n              display: true,\r\n              position: \"right\",\r\n            },\r\n          }}\r\n        />\r\n      </div>\r\n\r\n      <div className=\"chart\">\r\n        <Line\r\n          data={oxygen}\r\n          options={{\r\n            title: {\r\n              display: true,\r\n              text: \"Average Rainfall per month\",\r\n              fontSize: 20,\r\n            },\r\n            legend: {\r\n              display: true,\r\n              position: \"right\",\r\n            },\r\n          }}\r\n        />\r\n      </div>\r\n\r\n      <Link to={\"/\"}>\r\n        <button className=\"btn\">Back to Home</button>\r\n      </Link>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default LineChart;\r\n","import { Switch, Route } from \"react-router\";\nimport Main from \"./components/Main\";\nimport LineChart from \"./components/LineChart\";\n\nfunction App() {\n  return (\n    <div className=\"app\">\n      <h1 className=\"app-title\">Water Quality Monitor</h1>\n      <Switch>\n        <Route path=\"/\" exact component={Main} />\n        <Route path=\"/chart/:index\" component={LineChart} />\n      </Switch>\n      <div className=\"attribution\">\n        Coded by\n        <a href=\"https://kamari-1.github.io/\" target=\"_blank\" rel=\"noreferrer\">\n          <span> </span>Clement Oboh\n        </a>\n        .\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport \"./scss/main.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}